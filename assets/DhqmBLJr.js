import{p,_ as c,c as a,o as n,a as s,n as l,N as m,t as f,O as y,P as _}from"./BGNiZW5i.js";const h=p("/radio/rock.png"),q={name:"Baddisco"},g={class:"textgenerell"};function F(e,t,o,d,r,i){return n(),a("div",g,t[0]||(t[0]=[s("h2",null,"Baddisco",-1),s("p",null,"Hallooo, hier ist Rock FM hhhhhallo wie gehtseigendlich bei den alten kindern heutztage die sind sschon nicht so suuber!",-1),s("div",{class:"pictures"},[s("img",{src:h,alt:"Rock FM Logo",style:{width:"100%"}})],-1)]))}const v=c(q,[["render",F],["__scopeId","data-v-20519cb5"]]),A={name:"einkDisp"},M={class:"textgenerell"};function k(e,t,o,d,r,i){return n(),a("div",M,t[0]||(t[0]=[s("h2",null,"E-Ink Display Brosche",-1),s("p",null,"Hallooo, hier ist Rock FM!",-1),s("div",{class:"pictures"},[s("img",{src:h,alt:"Rock FM Logo",style:{width:"100%"}})],-1)]))}const b=c(A,[["render",k],["__scopeId","data-v-1911add0"]]),x={name:"Bewsyst"},w={class:"textgenerell"};function S(e,t,o,d,r,i){return n(),a("div",w,t[0]||(t[0]=[s("h2",null,"Bewertungssystem",-1),s("p",null,"Hallooo, hier ist Rock FM!",-1),s("div",{class:"pictures"},[s("img",{src:h,alt:"Rock FM Logo",style:{width:"100%"}})],-1)]))}const R=c(x,[["render",S],["__scopeId","data-v-368a12b9"]]),$=""+new URL("mutebutton.B_rVS7f9.png",import.meta.url).href,B=""+new URL("knob.CozYJx8c.png",import.meta.url).href,H={name:"RetroRadio",data(){return{frequency:87,step:.1,minFreq:87,maxFreq:108,scrollAccumulator:0,scrollThreshold:7,rotation:0,isMuted:!1,audio:new Audio,noiseAudio:new Audio("/radio/mute.mp3"),currentStationFreq:null,stations:[{freq:89,audio:"/radio/emotAmbHipHop.mp3",component:v},{freq:100,audio:"/assets/radio/expHipHop.mp3",component:b},{freq:104,audio:"/assets/radio/gorila.mp3",component:R}]}},computed:{activeStation(){return this.stations.find(e=>Math.abs(e.freq-this.frequency)<1)||null},indicatorPosition(){return(this.frequency-this.minFreq)/(this.maxFreq-this.minFreq)*100},knobRotation(){const e=this.maxFreq-this.minFreq,t=this.frequency-this.minFreq,o=270;return-(t/e)*o-o/2}},mounted(){this.audio=new Audio,this.audio.loop=!0,this.noiseAudio=new Audio("/radio/noise.mp3"),this.noiseAudio.loop=!0,this.noiseAudio.volume=.3,this.noiseAudio.play()},methods:{toggleMute(){this.isMuted=!this.isMuted,this.audio.muted=this.isMuted,this.noiseAudio.muted=this.isMuted},handleScroll(e){this.scrollAccumulator+=e.deltaY,this.scrollAccumulator>=this.scrollThreshold?(this.changeFrequency(1),this.scrollAccumulator=0):this.scrollAccumulator<=-this.scrollThreshold&&(this.changeFrequency(-1),this.scrollAccumulator=0)},changeFrequency(e){let t=this.frequency+e*this.step;t=Math.min(this.maxFreq,Math.max(this.minFreq,parseFloat(t.toFixed(1)))),this.frequency=t,this.updateAudio()},updateAudio(){const e=this.stations.find(t=>Math.abs(t.freq-this.frequency)<.2);e?(this.currentStationFreq!==e.freq&&(this.audio.src=e.audio,this.audio.play(),this.currentStationFreq=e.freq),this.noiseAudio.pause()):(this.audio.pause(),this.noiseAudio.play(),this.currentStationFreq=null)},shouldShowStation(e){return Math.abs(this.frequency-e)<=1},getOpacity(e){let o=1-Math.abs(this.frequency-e);return o<0&&(o=0),o},anyStationClose(){return this.stations.some(e=>Math.abs(e.freq-this.frequency)<=1)}},beforeUnmount(){this.audio&&(this.audio.pause(),this.audio.src=""),this.noiseAudio&&(this.noiseAudio.pause(),this.noiseAudio.src="")}},D={class:"Full-container"},L={class:"radio-container"},I={class:"frequency-line"},z={class:"digital-display"},C={class:"info-box"},U={key:1,class:"no-station"};function E(e,t,o,d,r,i){return n(),a("div",D,[s("img",{src:$,alt:"Mute",class:"mute-button",style:l({opacity:r.isMuted?.4:1,cursor:"pointer"}),onClick:t[0]||(t[0]=(...u)=>i.toggleMute&&i.toggleMute(...u))},null,4),t[4]||(t[4]=s("p",{class:"mute-hint",style:{"overflow-wrap":"break-word"}},"Den Drehregler durch scrollen drehen!",-1)),s("div",L,[s("img",{src:B,alt:"Drehknopf",class:"knob",onWheel:t[1]||(t[1]=m((...u)=>i.handleScroll&&i.handleScroll(...u),["prevent"])),style:l({transform:`rotate(${i.knobRotation}deg)`})},null,36),s("div",I,[t[2]||(t[2]=s("div",{class:"line"},null,-1)),s("div",{class:"indicator",style:l({left:i.indicatorPosition+"%"})},null,4)]),s("div",z,f(r.frequency.toFixed(1))+" MHz",1),s("div",C,[i.activeStation?(n(),y(_(i.activeStation.component),{key:0,style:l({opacity:i.getOpacity(i.activeStation.freq)})},null,8,["style"])):(n(),a("div",U,t[3]||(t[3]=[s("p",null,"Kein Sender gefunden",-1)])))])])])}const P=c(H,[["render",E],["__scopeId","data-v-605ba10b"]]);export{P as default};
