import{p as f,_ as c,c as d,o as r,a as s,l as u,h as m,t as g,R as y,S as q,j as v}from"./JRIiWVHk.js";const p=f("/radio/rock.png"),F={name:"Baddisco"},b={class:"textgenerell"};function A(e,t,n,h,a,i){return r(),d("div",b,t[0]||(t[0]=[s("h2",null,"Baddisco",-1),s("p",null,"Hallooo, hier ist Rock FM hhhhhallo wie gehtseigendlich bei den alten kindern heutztage die sind sschon nicht so suuber!",-1),s("div",{class:"pictures"},[s("img",{src:p,alt:"Rock FM Logo",style:{width:"100%"}})],-1)]))}const M=c(F,[["render",A],["__scopeId","data-v-20519cb5"]]),_={name:"einkDisp"},k={class:"textgenerell"};function w(e,t,n,h,a,i){return r(),d("div",k,t[0]||(t[0]=[s("h2",null,"E-Ink Display Brosche",-1),s("p",null,"Hallooo, hier ist Rock FM!",-1),s("div",{class:"pictures"},[s("img",{src:p,alt:"Rock FM Logo",style:{width:"100%"}})],-1)]))}const S=c(_,[["render",w],["__scopeId","data-v-1911add0"]]),R={name:"Bewsyst"},D={class:"textgenerell"};function $(e,t,n,h,a,i){return r(),d("div",D,t[0]||(t[0]=[s("h2",null,"Bewertungssystem",-1),s("p",null,"Hallooo, hier ist Rock FM!",-1),s("div",{class:"pictures"},[s("img",{src:p,alt:"Rock FM Logo",style:{width:"100%"}})],-1)]))}const x=c(R,[["render",$],["__scopeId","data-v-368a12b9"]]),B=""+new URL("mutebutton.B_rVS7f9.png",import.meta.url).href,H=""+new URL("knob.CozYJx8c.png",import.meta.url).href,L=v(),l=L.app.baseURL,C={name:"RetroRadio",data(){return{frequency:87,step:.1,minFreq:87,maxFreq:108,scrollAccumulator:0,scrollThreshold:7,rotation:0,isMuted:!1,audio:new Audio,noiseAudio:new Audio(l+"radio/mute.mp3"),currentStationFreq:null,stations:[{freq:89,audio:l+"radio/emotAmbHipHop.mp3",component:M},{freq:100,audio:l+"radio/expHipHop.mp3",component:S},{freq:104,audio:l+"radio/gorila.mp3",component:x}]}},computed:{activeStation(){return this.stations.find(e=>Math.abs(e.freq-this.frequency)<1)||null},indicatorPosition(){return(this.frequency-this.minFreq)/(this.maxFreq-this.minFreq)*100},knobRotation(){const e=this.maxFreq-this.minFreq,t=this.frequency-this.minFreq,n=270;return-(t/e)*n-n/2}},mounted(){this.audio=new Audio,this.audio.loop=!0,this.noiseAudio=new Audio(l+"radio/noise.mp3"),this.noiseAudio.loop=!0,this.noiseAudio.volume=.3,this.noiseAudio.play()},methods:{toggleMute(){this.isMuted=!this.isMuted,this.audio.muted=this.isMuted,this.noiseAudio.muted=this.isMuted},handleScroll(e){this.scrollAccumulator+=e.deltaY,this.scrollAccumulator>=this.scrollThreshold?(this.changeFrequency(1),this.scrollAccumulator=0):this.scrollAccumulator<=-this.scrollThreshold&&(this.changeFrequency(-1),this.scrollAccumulator=0)},changeFrequency(e){let t=this.frequency+e*this.step;t=Math.min(this.maxFreq,Math.max(this.minFreq,parseFloat(t.toFixed(1)))),this.frequency=t,this.updateAudio()},updateAudio(){const e=this.stations.find(t=>Math.abs(t.freq-this.frequency)<.4);e?(this.currentStationFreq!==e.freq&&(this.audio.src=e.audio,this.audio.play(),this.currentStationFreq=e.freq),this.noiseAudio.pause()):(this.audio.pause(),this.noiseAudio.play(),this.currentStationFreq=null)},shouldShowStation(e){return Math.abs(this.frequency-e)<=1},getOpacity(e){let n=1-Math.abs(this.frequency-e);return n<0&&(n=0),n},anyStationClose(){return this.stations.some(e=>Math.abs(e.freq-this.frequency)<=1)}},beforeUnmount(){this.audio&&(this.audio.pause(),this.audio.src=""),this.noiseAudio&&(this.noiseAudio.pause(),this.noiseAudio.src="")}},P={class:"Full-container"},I={class:"radio-container"},U={class:"frequency-line"},z={class:"digital-display"},E={key:1,class:"no-station"};function T(e,t,n,h,a,i){return r(),d("div",P,[s("img",{src:B,alt:"Mute",class:"mute-button",style:u({opacity:a.isMuted?.4:1,cursor:"pointer"}),onClick:t[0]||(t[0]=(...o)=>i.toggleMute&&i.toggleMute(...o))},null,4),t[9]||(t[9]=s("p",{class:"mute-hint",style:{"overflow-wrap":"break-word"}},"Den Drehregler durch scrollen drehen!",-1)),s("div",I,[s("img",{src:H,alt:"Drehknopf",class:"knob",onWheel:t[1]||(t[1]=m((...o)=>i.handleScroll&&i.handleScroll(...o),["prevent"])),onPointerdown:t[2]||(t[2]=(...o)=>e.startDrag&&e.startDrag(...o)),onPointermove:t[3]||(t[3]=(...o)=>e.onDrag&&e.onDrag(...o)),onPointerup:t[4]||(t[4]=(...o)=>e.endDrag&&e.endDrag(...o)),onPointercancel:t[5]||(t[5]=(...o)=>e.endDrag&&e.endDrag(...o)),style:u({transform:`rotate(${i.knobRotation}deg)`})},null,36),s("div",U,[t[7]||(t[7]=s("div",{class:"line"},null,-1)),s("div",{class:"indicator",style:u({left:i.indicatorPosition+"%"})},null,4)]),s("div",z,g(a.frequency.toFixed(1))+" MHz",1),s("div",{class:"info-box",onContextmenu:t[6]||(t[6]=m(()=>{},["prevent"]))},[i.activeStation?(r(),y(q(i.activeStation.component),{key:0,style:u({opacity:i.getOpacity(i.activeStation.freq)})},null,8,["style"])):(r(),d("div",E,t[8]||(t[8]=[s("p",null,"Kein Sender gefunden",-1)])))],32)])])}const V=c(C,[["render",T],["__scopeId","data-v-0b1babeb"]]);export{V as default};
