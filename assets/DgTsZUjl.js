import{p as f,_ as c,c as d,o as r,a as s,n as u,O as p,t as g,P as y,Q as q,f as _}from"./BkqeV65Q.js";const m=f("/radio/rock.png"),F={name:"Baddisco"},v={class:"textgenerell"};function M(e,t,n,h,a,i){return r(),d("div",v,t[0]||(t[0]=[s("h2",null,"Baddisco",-1),s("p",null,"Hallooo, hier ist Rock FM hhhhhallo wie gehtseigendlich bei den alten kindern heutztage die sind sschon nicht so suuber!",-1),s("div",{class:"pictures"},[s("img",{src:m,alt:"Rock FM Logo",style:{width:"100%"}})],-1)]))}const A=c(F,[["render",M],["__scopeId","data-v-20519cb5"]]),b={name:"einkDisp"},k={class:"textgenerell"};function D(e,t,n,h,a,i){return r(),d("div",k,t[0]||(t[0]=[s("h2",null,"E-Ink Display Brosche",-1),s("p",null,"Hallooo, hier ist Rock FM!",-1),s("div",{class:"pictures"},[s("img",{src:m,alt:"Rock FM Logo",style:{width:"100%"}})],-1)]))}const w=c(b,[["render",D],["__scopeId","data-v-1911add0"]]),x={name:"Bewsyst"},S={class:"textgenerell"};function R(e,t,n,h,a,i){return r(),d("div",S,t[0]||(t[0]=[s("h2",null,"Bewertungssystem",-1),s("p",null,"Hallooo, hier ist Rock FM!",-1),s("div",{class:"pictures"},[s("img",{src:m,alt:"Rock FM Logo",style:{width:"100%"}})],-1)]))}const B=c(x,[["render",R],["__scopeId","data-v-368a12b9"]]),Y=""+new URL("mutebutton.B_rVS7f9.png",import.meta.url).href,H=""+new URL("knob.CozYJx8c.png",import.meta.url).href,L=_(),l=L.app.baseURL,P={name:"RetroRadio",data(){return{frequency:87,step:.1,minFreq:87,maxFreq:108,scrollAccumulator:0,scrollThreshold:7,rotation:0,isMuted:!1,audio:new Audio,noiseAudio:new Audio(l+"/radio/mute.mp3"),currentStationFreq:null,stations:[{freq:89,audio:l+"/radio/emotAmbHipHop.mp3",component:A},{freq:100,audio:l+"/assets/radio/expHipHop.mp3",component:w},{freq:104,audio:l+"/assets/radio/gorila.mp3",component:B}]}},computed:{activeStation(){return this.stations.find(e=>Math.abs(e.freq-this.frequency)<1)||null},indicatorPosition(){return(this.frequency-this.minFreq)/(this.maxFreq-this.minFreq)*100},knobRotation(){const e=this.maxFreq-this.minFreq,t=this.frequency-this.minFreq,n=270;return-(t/e)*n-n/2}},mounted(){this.audio=new Audio,this.audio.loop=!0,this.noiseAudio=new Audio(l+"/radio/noise.mp3"),this.noiseAudio.loop=!0,this.noiseAudio.volume=.3,this.noiseAudio.play()},methods:{toggleMute(){this.isMuted=!this.isMuted,this.audio.muted=this.isMuted,this.noiseAudio.muted=this.isMuted},handleScroll(e){this.scrollAccumulator+=e.deltaY,this.scrollAccumulator>=this.scrollThreshold?(this.changeFrequency(1),this.scrollAccumulator=0):this.scrollAccumulator<=-this.scrollThreshold&&(this.changeFrequency(-1),this.scrollAccumulator=0)},startDrag(e){this.isDragging=!0,this.lastY=e.clientY},onDrag(e){if(!this.isDragging)return;const t=e.clientY-this.lastY;Math.abs(t)>=this.scrollThreshold&&(this.changeFrequency(t>0?1:-1),this.lastY=e.clientY)},endDrag(){this.isDragging=!1},changeFrequency(e){let t=this.frequency+e*this.step;t=Math.min(this.maxFreq,Math.max(this.minFreq,parseFloat(t.toFixed(1)))),this.frequency=t,this.updateAudio()},updateAudio(){const e=this.stations.find(t=>Math.abs(t.freq-this.frequency)<.2);e?(this.currentStationFreq!==e.freq&&(this.audio.src=e.audio,this.audio.play(),this.currentStationFreq=e.freq),this.noiseAudio.pause()):(this.audio.pause(),this.noiseAudio.play(),this.currentStationFreq=null)},shouldShowStation(e){return Math.abs(this.frequency-e)<=1},getOpacity(e){let n=1-Math.abs(this.frequency-e);return n<0&&(n=0),n},anyStationClose(){return this.stations.some(e=>Math.abs(e.freq-this.frequency)<=1)}},beforeUnmount(){this.audio&&(this.audio.pause(),this.audio.src=""),this.noiseAudio&&(this.noiseAudio.pause(),this.noiseAudio.src="")}},$={class:"Full-container"},C={class:"radio-container"},I={class:"frequency-line"},U={class:"digital-display"},z={class:"info-box"},T={key:1,class:"no-station"};function E(e,t,n,h,a,i){return r(),d("div",$,[s("img",{src:Y,alt:"Mute",class:"mute-button",style:u({opacity:a.isMuted?.4:1,cursor:"pointer"}),onClick:t[0]||(t[0]=(...o)=>i.toggleMute&&i.toggleMute(...o))},null,4),t[8]||(t[8]=s("p",{class:"mute-hint",style:{"overflow-wrap":"break-word"}},"Den Drehregler durch scrollen drehen!",-1)),s("div",C,[s("img",{src:H,alt:"Drehknopf",class:"knob",onWheel:t[1]||(t[1]=p((...o)=>i.handleScroll&&i.handleScroll(...o),["prevent"])),onPointerdown:t[2]||(t[2]=(...o)=>i.startDrag&&i.startDrag(...o)),onPointermove:t[3]||(t[3]=(...o)=>i.onDrag&&i.onDrag(...o)),onPointerup:t[4]||(t[4]=(...o)=>i.endDrag&&i.endDrag(...o)),onPointercancel:t[5]||(t[5]=(...o)=>i.endDrag&&i.endDrag(...o)),style:u({transform:`rotate(${i.knobRotation}deg)`})},null,36),s("div",I,[t[6]||(t[6]=s("div",{class:"line"},null,-1)),s("div",{class:"indicator",style:u({left:i.indicatorPosition+"%"})},null,4)]),s("div",U,g(a.frequency.toFixed(1))+" MHz",1),s("div",z,[i.activeStation?(r(),y(q(i.activeStation.component),{key:0,style:u({opacity:i.getOpacity(i.activeStation.freq)})},null,8,["style"])):(r(),d("div",T,t[7]||(t[7]=[s("p",null,"Kein Sender gefunden",-1)])))])])])}const V=c(P,[["render",E],["__scopeId","data-v-ae609ef4"]]);export{V as default};
